<!-- <h1 class="h3 mb-2 text-gray-800">Category</h1> -->
<div class="card shadow mb-4">
    <div class="card-header py-2 pt-3">
        <h4 class="h4  text-gray-800">Category</h4>
    </div>
    <div class="card-body">
        <form [formGroup]="categoryForm">
            <div class="form-row">
                <div class="input-group col-12 mb-2">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="category-Name"> <i class="fa fa-folder-open" aria-hidden="true"></i></span>
                    </div>
                    <input type="text" name="categoryName" id="categoryName" formControlName="categoryName" class="form-control block" placeholder="Your Category...">
                </div>
                <div *ngIf="categoryName.invalid && (categoryName.dirty || categoryName.touched)" class="text-danger ml-2">
                    Please provide a Category Name.
                </div>
            </div>

            <div class="form-row mb-3 ">
                <div class="input-group   col-12 mt-1 d-flex justify-content-center">
                    <div class="file-input">
                        <input type="file" name="categoryPhoto" (change)="handleFileInput($event.target.files)" accept="image/*" id="file-input" class="file-input__input" />
                        <label class="file-input__label" for="file-input">

      <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="upload"
        class="svg-inline--fa fa-upload fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 512 512">
        <path fill="currentColor"
          d="M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z">
        </path>
      </svg>
      <span>Upload Image</span></label>
                        <div id="imageValidation" style="display: none;" class="text-danger mt-2 block">
                            Please provide an image.
                        </div>
                    </div>

                </div>

                <div class="col-12 float-right " id="imageContainer" style="display: none;">
                    <div class="border col-12 col-sm-12  float-left ">
                        <div>
                            <div class="col2 float-left">
                                <img class="img float-left p-2" src="data:{{imageType}};base64,{{imageUrl}}" id="image" alt="" style="width:60px;height:60px;">
                            </div>
                            <div class="col2 float-left">
                                <span class="float-left ml-1 mt-3 text-truncate" id="imgName" style="max-width: 150px;">{{imageName}}</span>
                            </div>
                            <!-- <div class="col2 float-right">
                              <a type="button" class="float-right mt-3  "> <i class="fas fa-trash fa-fw mr-2"></i> </a>
                          </div> -->
                        </div>
                    </div>
                </div>
            </div>
            <div id="ImageBase46"></div>

            <div class=" col-12 mb-3">
                <button type="submit" [disabled]="categoryForm.invalid" (click)="saveCategory()" class="btn btn-primary btn-md btn-block " id="save"> <i class="fas fa-save fa-fw mr-2"></i> Save </button>
                <button type="submit" [disabled]="categoryForm.invalid" (click)="saveAfterEditCategory()" class="btn btn-primary btn-md btn-block" id="edit" style="display: none;"> <i class="fas fa-save fa-fw mr-2"></i>Save</button>
            </div>


        </form>
    </div>
</div>

<div class="card shadow mb-4">
    <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Category</h6>
    </div>
    <div class="card-body">
        <div class="table-responsive">
            <table id="datatable example" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-bordered d-table row-border stripe hover" width="100%" cellspacing="0">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th class="dt-head-right">Actions</th>
                    </tr>
                </thead>
                <tbody *ngIf="categories?.length != 0">
                    <tr *ngFor="let category of categories">
                        <td class="dt-body-left text-truncate" style="max-width: 250px;">{{ category.categoryName }}</td>
                        <td class="d-flex justify-content-center">
                            <a type="button" (click)="deleteCategory(category.categoryId)" class=" " placement="left" ngbTooltip="Remove"> <i class="fas fa-trash fa-fw mr-2"></i></a>
                            <a type="button" (click)="editCategory(category)" class=" " placement="right" ngbTooltip="Edit"> <i class="fas fa-edit fa-fw mr-2"></i></a>
                        </td>

                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
